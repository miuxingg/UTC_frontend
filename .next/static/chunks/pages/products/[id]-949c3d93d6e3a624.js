(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[304],{27813:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[id]",function(){return n(44544)}])},52554:function(e,t,n){"use strict";var i=n(85893),r=n(15861),s=n(90948),a=n(67294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=(0,s.ZP)(r.Z)({fontFamily:"Roboto"}),d=function(e){var t=e.children,n=o(e,["children"]);return(0,i.jsx)(c,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){l(e,t,n[t])}))}return e}({},n,{children:t}))};t.Z=a.memo(d)},44544:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return Q},default:function(){return V}});var i=n(85893),r=n(11163),s=n(67294),a=n(25617),l=n(84345),o=n(97331),c=n(90948),d=n(91440),u=n(87357),m=n(67720),h=n(52554),f=n(26747),x=n(80868),v=n(4452),j=n(70768),p=n(10577),g=n(38736),b=function(e){var t,n;return null!==(n=null===(t=e.review)||void 0===t?void 0:t.reviewOnBook)&&void 0!==n?n:{total:0,items:[]}},y=n(78298),w=n(13379),_=(0,c.ZP)(u.Z)((function(e){var t=e.image;return{width:e.width,height:e.height,margin:e.m,backgroundImage:"url(".concat(t,")"),backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",position:"relative",transition:"0.5s"}})),N=(0,c.ZP)(u.Z)((function(e){return{position:"absolute",top:e.top,left:e.left,right:e.right,bottom:e.bottom,transition:"0.5s"}})),k=function(e){var t=e.listImage,n=(0,s.useState)(0),r=n[0],a=n[1],l=(0,s.useState)(!1),o=l[0],c=l[1];return(0,s.useEffect)((function(){a(0)}),[t]),(0,i.jsxs)(u.Z,{height:600,width:420,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",children:[(0,i.jsx)(_,{image:t[r],width:"100%",height:"527px",onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},children:o?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N,{top:"50%",children:(0,i.jsx)(y.Z,{style:{color:"".concat(0===r?"#c6c6c6":"#fff"),cursor:"pointer"},onClick:function(){return a((function(e){return e-1<0?0:e-1}))}})}),(0,i.jsx)(N,{top:"50%",right:"0",children:(0,i.jsx)(w.Z,{style:{color:"".concat(r===t.length-1?"#c6c6c6":"#fff"),cursor:"pointer"},onClick:function(){return a((function(e){return e+1===t.length?e:e+1}))}})})]}):null}),(0,i.jsx)(u.Z,{width:"100%",height:64,display:"flex",flexDirection:"row",justifyContent:"center",children:t.map((function(e,t){return(0,i.jsx)(_,{image:e,width:"64px",height:"100%",m:"0 2px",style:{cursor:"pointer"},onClick:function(){return a(t)}},t)}))})]})},Z=n(69661),O=function(e){var t=e.username,n=e.avatar,r=e.rating,s=e.comment,a=e.timestamps;return(0,i.jsxs)(u.Z,{mx:1,my:3,children:[(0,i.jsxs)(u.Z,{display:"flex",justifyContent:"flex-start",alignItems:"center",children:[(0,i.jsx)(Z.Z,{alt:"Remy Sharp",src:null!==n&&void 0!==n?n:"https://static01.nyt.com/images/2021/09/14/science/07CAT-STRIPES/07CAT-STRIPES-mediumSquareAt3X-v2.jpg"}),(0,i.jsxs)(u.Z,{ml:2,display:"flex",justifyContent:"space-between",width:"100%",children:[(0,i.jsx)("h5",{children:t}),(0,i.jsx)(u.Z,{ml:1,children:(0,i.jsx)(h.Z,{fontSize:"12px",children:a})})]})]}),(0,i.jsxs)(u.Z,{ml:3,my:1,children:[(0,i.jsx)("div",{className:"review__ratings__type d-flex",children:(0,i.jsx)("div",{className:"review-ratings",children:(0,i.jsx)(u.Z,{display:"flex",alignItems:"center",children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Z,{fontWeight:600,children:"\u0110\xe1nh gi\xe1"}),(0,i.jsx)(u.Z,{mt:"3px",mx:2,display:"flex",children:(0,i.jsx)(d.Z,{name:"size-small",value:r,size:"small",defaultValue:r,disabled:!0})})]})})})}),(0,i.jsx)("p",{children:s})]})]})},S=n(27484),P=n.n(S),C=n(79069),I=n(86886),E=n(41664),T=n.n(E);function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){z(e,t,n[t])}))}return e}var F=(0,c.ZP)(u.Z)((function(e){var t=e.src;return{width:80,height:"100px",backgroundImage:"url(".concat(t,")"),backgroundSize:"cover",backgroundPosition:"center"}})),B=(0,c.ZP)(h.Z)({overflow:"hidden",textOverflow:"ellipsis","-webkit-line-clamp":"2",display:"-webkit-box","-webkit-box-orient":"vertical",cursor:"pointer",":hover":{color:"#e59285"}}),D=function(e){var t=e.name,n=e.thumbnail,r=e.author,s=e.id;return(0,i.jsx)(u.Z,{width:"250px",height:"100px",style:{backgroundColor:"#eee"},children:(0,i.jsxs)(I.ZP,{container:!0,children:[(0,i.jsx)(I.ZP,{item:!0,xs:4,children:(0,i.jsx)(F,{src:n||""})}),(0,i.jsx)(I.ZP,{item:!0,xs:8,children:(0,i.jsx)(u.Z,{p:1,children:(0,i.jsxs)(I.ZP,{container:!0,spacing:1,direction:"column",children:[(0,i.jsx)(I.ZP,{item:!0,children:(0,i.jsx)(T(),{href:"/products/".concat(s),children:(0,i.jsx)(B,{width:"100%",fontWeight:600,fontSize:16,children:t})})}),(0,i.jsx)(I.ZP,{item:!0,children:(0,i.jsx)(B,{fontSize:14,children:r})})]})})})]})})},M=function(e){var t=e.list;return(0,i.jsx)(I.ZP,{container:!0,spacing:4,children:t.map((function(e,t){return(0,i.jsx)(I.ZP,{item:!0,children:(0,i.jsx)(D,q({},e))},t)}))})},A=n(77058),R=n(84593);function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=(0,c.ZP)("span")({color:"blue",cursor:"pointer"}),W=function(){var e,t=(0,A.$)().t,n=(0,a.I0)(),r=(0,a.v9)(v.aF),l=(0,s.useState)(1),c=l[0],y=l[1],w=(0,a.v9)(j.vg),_=(0,a.v9)(b),N=(0,s.useState)(5),Z=N[0],S=N[1],I=(0,s.useState)(""),E=I[0],T=I[1],z=(0,s.useState)(!1),q=z[0],F=z[1],B=function(){if(w.id&&c>0)if(r)n((0,p.aJ)({bookId:w.id,quantity:c})),n((0,x.xM)({message:"Th\xeam v\xe0o gi\u1ecf h\xe0ng th\xe0nh c\xf4ng"}));else{var e=(0,f.B3)(f.Fe.BookStoreCart),t=e?JSON.parse(e):[],i=t.find((function(e){return e.bookId===w.id}));i?(0,f.lg)(f.Fe.BookStoreCart,JSON.stringify(t.map((function(e){return e.bookId===i.bookId?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){J(e,t,n[t])}))}return e}({},e,{quantity:c}):e})))):(t.push({bookId:w.id,quantity:c}),(0,f.lg)(f.Fe.BookStoreCart,JSON.stringify(t))),n((0,p.dm)({id:w.id,quantity:c,item:{id:w.id,name:w.name,thumbnail:w.thumbnail,price:w.price,priceUnDiscount:w.priceUnDiscount}})),n((0,x.xM)({message:"Th\xeam v\xe0o gi\u1ecf h\xe0ng th\xe0nh c\xf4ng"}))}else n(c<=0?(0,x.sT)({message:"S\u1ed1 l\u01b0\u1ee3ng kh\xf4ng h\u1ee3p l\u1ec7"}):(0,x.sT)({message:"Th\xeam v\xe0o gi\u1ecf h\xe0ng th\u1ea5t b\u1ea1i"}))};return(0,i.jsxs)("div",{className:"wrapper",id:"wrapper",children:[(0,i.jsx)("div",{className:"ht__bradcaump__area bg-image--4",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-lg-12"})})})}),(0,i.jsx)("div",{className:"maincontent bg--white pt--80 pb--55",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsxs)("div",{className:"col-lg-9 col-12",children:[(0,i.jsx)("div",{className:"wn__single__product",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-lg-6 col-12",children:(0,i.jsx)(k,{listImage:w.images})}),(0,i.jsx)("div",{className:"col-lg-6 col-12",children:(0,i.jsxs)("div",{className:"product__info__main",children:[(0,i.jsx)("h1",{children:w.name}),(0,i.jsx)(d.Z,{name:"size-small",value:w.rating,size:"small",defaultValue:w.rating,disabled:!0}),(0,i.jsx)(h.Z,{fontSize:"14px",children:w.author}),(0,i.jsx)("div",{className:"price-box",children:(0,i.jsx)("span",{children:(0,C.E)(w.price)})}),(0,i.jsx)("div",{className:"product__overview",children:(0,i.jsx)("aside",{className:"wedget__categories poroduct--tag",children:(0,i.jsx)("ul",{children:null===(e=w.cloudTag)||void 0===e?void 0:e.map((function(e,t){return(0,i.jsx)("li",{children:(0,i.jsx)("a",{children:e})},t)}))})})}),(0,i.jsxs)("div",{className:"box-tocart d-flex",children:[(0,i.jsx)("span",{children:"Qty"}),(0,i.jsx)("input",{id:"qty",className:"input-text qty",name:"qty",min:1,defaultValue:1,title:"Qty",type:"number",onChange:function(e){return y(+e.target.value)}}),(0,i.jsx)("div",{className:"addtocart__actions",children:(0,i.jsx)("button",{className:"tocart",type:"button",title:"Add to Cart",onClick:function(){return B()},children:t("product-detail.add-cart")})}),(0,i.jsxs)("div",{className:"product-addto-links clearfix",children:[(0,i.jsx)("a",{className:"wishlist",onClick:function(){n(r?(0,R.mN)(w.id):(0,x.sT)({message:t("unAuthenticated")}))},style:{backgroundColor:w.isFavorite||q?"#e59285":"#fff",borderColor:w.isFavorite||q?"#e59285":"#ebebeb",cursor:"pointer"},onMouseEnter:function(){return F(!0)},onMouseLeave:function(){return F(!1)}}),(0,i.jsx)("a",{className:"compare",href:"#"})]})]}),(0,i.jsx)("div",{className:"product_meta",children:(0,i.jsxs)("span",{className:"posted_in",children:[t("product-detail.category"),":\xa0",(null===w||void 0===w?void 0:w.category)?w.category.map((function(e,t){var n;return(0,i.jsxs)("a",{children:[e.name,"\xa0",t!==(null===w||void 0===w||null===(n=w.category)||void 0===n?void 0:n.length)-1?", ":null]},e.id)})):null]})}),(0,i.jsx)("div",{className:"product-share",children:(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{className:"categories-title",children:[t("product-detail.share")," :"]}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"#",children:(0,i.jsx)("i",{className:"icon-social-twitter icons"})})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"#",children:(0,i.jsx)("i",{className:"icon-social-tumblr icons"})})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"#",children:(0,i.jsx)("i",{className:"icon-social-facebook icons"})})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"#",children:(0,i.jsx)("i",{className:"icon-social-linkedin icons"})})})]})})]})})]})}),w.isCombo?(0,i.jsxs)(u.Z,{mt:6,mb:4,children:[(0,i.jsx)(u.Z,{children:(0,i.jsx)(h.Z,{fontWeight:600,fontSize:24,mb:3,children:t("product-detail.combo")})}),(0,i.jsx)(M,{list:w.books||[]})]}):null,(0,i.jsxs)("div",{className:"product__info__detailed",children:[(0,i.jsxs)("div",{className:"pro_details_nav nav justify-content-start",role:"tablist",children:[(0,i.jsx)("a",{className:"nav-item nav-link active","data-toggle":"tab",href:"#nav-details",role:"tab",children:t("product-detail.detail")}),(0,i.jsx)("a",{className:"nav-item nav-link","data-toggle":"tab",href:"#nav-summary",role:"tab",children:t("product-detail.summary")}),(0,i.jsx)("a",{className:"nav-item nav-link","data-toggle":"tab",href:"#nav-review",role:"tab",children:t("product-detail.review")})]}),(0,i.jsxs)("div",{className:"tab__container",children:[(0,i.jsx)("div",{className:"pro__tab_label tab-pane fade show active",id:"nav-details",role:"tabpanel",children:(0,i.jsx)("div",{className:"description__attribute",children:(0,i.jsx)("p",{children:w.description})})}),(0,i.jsx)("div",{className:"pro__tab_label tab-pane fade",id:"nav-summary",role:"tabpanel",children:(0,i.jsx)("div",{className:"description__attribute",children:(0,i.jsx)("p",{children:(0,i.jsx)("pre",{children:(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:(null===w||void 0===w?void 0:w.summary)||""}})})})})}),(0,i.jsxs)("div",{className:"pro__tab_label tab-pane fade",id:"nav-review",role:"tabpanel",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:t("product-detail.review.custom-review")}),_.items.map((function(e,t){return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(O,{comment:e.comment,rating:e.rating,username:"".concat(e.user.firstName," ").concat(e.user.lastName),avatar:e.user.avatar,timestamps:P()(e.createdAt).format("DD/MM/YYYY")}),t!==_.items.length-1?(0,i.jsx)(m.Z,{}):null]},t)})),_.total!==_.items.length?(0,i.jsx)(U,{onClick:function(){n((0,g.JZ)({idBook:w.id,queries:{limit:o.aU,offset:_.items.length}}))},children:t("product-detail.review.see-more",{total:_.total-_.items.length})}):null]}),(0,i.jsxs)("div",{className:"review-fieldset",children:[(0,i.jsx)("h3",{children:t("product-detail.review.your-review")}),(0,i.jsxs)("div",{className:"review_form_field",children:[(0,i.jsx)("div",{className:"review__ratings__type d-flex",children:(0,i.jsx)("div",{className:"review-ratings",children:(0,i.jsxs)(u.Z,{display:"flex",alignItems:"center",mb:3,children:[(0,i.jsx)(h.Z,{fontWeight:600,children:t("product-detail.review.rating")}),(0,i.jsx)(u.Z,{mt:1,mx:2,children:(0,i.jsx)(d.Z,{name:"size-small",onChange:function(e,t){t&&S(t)},size:"small"})})]})})}),(0,i.jsxs)("div",{className:"input__box",children:[(0,i.jsx)(h.Z,{fontWeight:600,children:t("product-detail.review.review-content")}),(0,i.jsx)("textarea",{name:"review",onChange:function(e){return T(e.target.value)}})]}),(0,i.jsx)("div",{className:"review-form-actions",children:(0,i.jsx)("button",{onClick:function(){n(r?(0,g.xe)({rating:Z,comment:E,bookId:w.id}):(0,x.sT)({message:"C\u1ea7n ph\u1ea3i \u0111\u0103ng nh\u1eadp \u0111\u1ec3 ti\u1ebfp t\u1ee5c"}))},children:t("product-detail.review.submit-review")})})]})]})]})]})]})]})})})})]})},Y=n(78306),L=n(83119),Q=!0,V=function(){var e=(0,r.useRouter)(),t=(0,a.I0)(),n=e.query.id;return(0,s.useEffect)((function(){n&&(t((0,Y.ZN)(n)),t((0,L.KQ)()),t((0,Y.wq)()),t((0,g.lg)({idBook:String(n),queries:{limit:o.aU}})))}),[t,n]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.Z,{children:(0,i.jsx)(W,{})})})}},70768:function(e,t,n){"use strict";n.d(t,{Cz:function(){return r},o$:function(){return s},rK:function(){return a},vg:function(){return l},wN:function(){return i},y4:function(){return o}});var i=function(e){var t;return null!==(t=e.books.newBook)&&void 0!==t?t:{total:0,items:[]}},r=function(e){var t;return null!==(t=e.books.bookByCombos)&&void 0!==t?t:{total:0,items:[]}},s=function(e){var t;return null!==(t=e.books.allBooks)&&void 0!==t?t:{total:0,items:[]}},a=function(e){var t;return null!==(t=e.books.bookBestSaler)&&void 0!==t?t:{total:0,items:[]}},l=function(e){var t;return null!==(t=e.books.bookDetail)&&void 0!==t?t:{id:"",name:"",price:0,priceUnDiscount:0,description:"",author:"",category:[],cloudTag:[],thumbnail:"",images:[],status:"",quantity:0,summary:"",isCombo:!1,books:[],isFavorite:!1,rating:0}},o=function(e){var t;return null!==(t=e.books.cloudtag)&&void 0!==t?t:{total:0,items:[]}}}},function(e){e.O(0,[431,694,167,903,103,774,888,179],(function(){return t=27813,e(e.s=t);var t}));var t=e.O();_N_E=t}]);